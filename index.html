<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Happiness Experiment</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #ffe1cc, #ccffe1, #cce1ff);
            color: #333;
            overflow-x: hidden;
            margin: 0;
            position: relative;
        }
        .section {
            min-height: 100vh;
            padding: 8rem 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        .progress-bar-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background: #eee;
            z-index: 1000;
        }
        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, #ff6b6b, #4ecdc4, #45b7d1, #ff8e53);
            transform-origin: left;
            transition: transform 0.3s ease;
        }
        .progress-milestone {
            position: absolute;
            top: -5px;
            width: 16px;
            height: 16px;
            background: #fff;
            border: 2px solid #ff6b6b;
            border-radius: 50%;
            transform: translateX(-50%);
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        .progress-milestone:hover {
            transform: translateX(-50%) scale(1.5);
        }
        .nav-button {
            position: fixed;
            z-index: 50;
            background: linear-gradient(45deg, #ff6b6b, #ff8e53);
            color: white;
            padding: 1rem 2rem;
            border-radius: 9999px;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }
        .nav-button:hover {
            transform: scale(1.15);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
        }
        .nav-dots {
            position: fixed;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            z-index: 50;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .nav-dot {
            width: 12px;
            height: 12px;
            background: #fff;
            border: 2px solid #ff6b6b;
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.3s ease, background 0.3s ease;
        }
        .nav-dot.active {
            background: #ff6b6b;
            transform: scale(1.5);
        }
        .card {
            background: white;
            border-radius: 1.5rem;
            padding: 2.5rem;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: grab;
            position: relative;
            overflow: hidden;
        }
        .card:hover {
            transform: translateY(-15px) rotate(4deg);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
        }
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, rgba(255, 107, 107, 0.2), rgba(78, 205, 196, 0.2));
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .card:hover::before {
            opacity: 1;
        }
        .visualization-container {
            position: relative;
            width: 100%;
            height: 700px;
            background: #fff;
            border-radius: 1.5rem;
            overflow: hidden;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            transition: transform 0.3s ease;
        }
        .visualization-container:hover {
            transform: scale(1.02);
        }
        .visualization-container iframe {
            transition: transform 0.3s ease;
            transform-origin: top left;
            width: 100%;
            height: 100%;
            border: none;
        }
        .control-buttons {
            position: absolute;
            bottom: 1.5rem;
            right: 1.5rem;
            display: flex;
            gap: 0.5rem;
            z-index: 10;
        }
        .control-btn {
            background: linear-gradient(45deg, #ff6b6b, #ff8e53);
            color: white;
            padding: 0.75rem;
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }
        .control-btn:hover {
            transform: scale(1.3);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
        }
        .fullscreen-viz {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 1000;
            background: #fff;
            display: none;
            transform: scale(0.8);
            opacity: 0;
        }
        .fullscreen-viz iframe {
            width: 100%;
            height: 100%;
            border: none;
            transition: transform 0.3s ease;
            transform-origin: top left;
        }
        .fullscreen-controls {
            position: absolute;
            bottom: 1.5rem;
            right: 1.5rem;
            display: flex;
            gap: 0.5rem;
            z-index: 10;
        }
        .close-btn {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: linear-gradient(45deg, #ff6b6b, #ff8e53);
            color: white;
            padding: 0.75rem;
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }
        .close-btn:hover {
            transform: scale(1.3);
        }
        .cartoon-arrow {
            position: absolute;
            width: 80px;
            height: 80px;
            background: url('https://via.placeholder.com/80?text=↓') center/contain no-repeat;
            animation: bounce 1.5s infinite;
            z-index: 10;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(20px); }
        }
        .animated-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.15;
            z-index: -1;
            animation: gradientShift 12s ease infinite;
        }
        @keyframes gradientShift {
            0% { background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1); }
            50% { background: linear-gradient(45deg, #45b7d1, #ff8e53, #ff6b6b); }
            100% { background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1); }
        }
        .parallax-layer {
            position: absolute;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.2;
        }
        canvas {
            position: fixed;
            top: 0;
            left: 0;
            z-index: -2;
            opacity: 0.1;
        }
        .hand-drawn-svg {
            position: absolute;
            width: 100px;
            height: 100px;
            top: 10%;
            left: 10%;
            z-index: 0;
            animation: float 6s ease-in-out infinite;
        }
        @keyframes float {
            0% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0); }
        }
    </style>
</head>
<body>
    <canvas id="particleCanvas"></canvas>
    <div class="progress-bar-container">
        <div class="progress-bar" id="progressBar"></div>
        <div class="progress-milestone" id="milestone-title" style="left: 0%"></div>
        <div class="progress-milestone" id="milestone-intro" style="left: 14.28%"></div>
        <div class="progress-milestone" id="milestone-viz1" style="left: 28.57%"></div>
        <div class="progress-milestone" id="milestone-viz2" style="left: 42.85%"></div>
        <div class="progress-milestone" id="milestone-viz3" style="left: 57.14%"></div>
        <div class="progress-milestone" id="milestone-viz4" style="left: 71.42%"></div>
        <div class="progress-milestone" id="milestone-viz5" style="left: 85.71%"></div>
        <div class="progress-milestone" id="milestone-references" style="left: 100%"></div>
    </div>

    <!-- Navigation Dots -->
    <div class="nav-dots">
        <div class="nav-dot active" data-section="title" aria-label="Go to Title"></div>
        <div class="nav-dot" data-section="intro" aria-label="Go to Introduction"></div>
        <div class="nav-dot" data-section="viz1" aria-label="Go to Remote Work Trends"></div>
        <div class="nav-dot" data-section="viz2" aria-label="Go to Four-Day Workweek Impact"></div>
        <div class="nav-dot" data-section="viz3" aria-label="Go to Gravity of Joy"></div>
        <div class="nav-dot" data-section="viz4" aria-label="Go to Work Preferences"></div>
        <div class="nav-dot" data-section="viz5" aria-label="Go to Personas of Work"></div>
        <div class="nav-dot" data-section="references" aria-label="Go to Conclusion"></div>
    </div>

    <!-- Title Section -->
    <section class="section bg-gradient-to-br from-[#ff6b6b] via-[#4ecdc4] to-[#45b7d1] text-white relative overflow-hidden" id="title">
        <div class="absolute inset-0">
            <img src="https://media.istockphoto.com/id/1316048201/vector/woman-working-on-laptop-at-the-beach-digital-nomad-concept-vector-illustration-flat-cartoon.jpg?s=612x612&w=0&k=20&c=-jtxZNzw7JN0r4F-7TYHkEs4Ho4CALP3H890V60kLqY=" 
                 alt="Background" 
                 class="w-full h-full object-cover opacity-30">
        </div>
    
        <div class="relative z-10 max-w-6xl mx-auto text-center" style="color: #000000;">
            <h1 class="text-6xl md:text-8xl font-extrabold mb-8 animate__animated animate__bounceIn">
                The Happiness Experiment
            </h1>
            <p class="text-2xl md:text-3xl mb-10 animate__animated animate__fadeIn animate__delay-1s" style="color: #4E342E;">
                How Remote Work and the Four-Day Workweek Are Redefining Our Lives
            </p>
            <!-- <p class="text-xl mb-12 animate__animated animate__fadeIn animate__delay-2s">
                By Nivedhitha & Chunhao Liao | SI 649 
            </p> -->
            <p class="text-xl mb-12 animate__animated animate__fadeIn animate__delay-2s" style="color: #4E342E;">
                By Nivedhitha & Chunhao Liao | SI 649
              </p>
              
            <div class="cartoon-arrow bottom-12 left-1/2 -translate-x-1/2"></div>
        </div>
    </section>
    

    <!-- Introduction Section -->
    <!-- Introduction Section -->
    <section class="section bg-white relative" id="intro">
        <div class="animated-bg"></div>
        <div class="parallax-layer" style="background: url('https://via.placeholder.com/2000x2000?text=Pattern2') center/cover;"></div>
        <svg class="hand-drawn-svg" style="top: 15%; right: 10%;" viewBox="0 0 100 100">
            <circle cx="50" cy="50" r="40" stroke="#4ecdc4" stroke-width="4" fill="none" />
        </svg>
        <div class="max-w-6xl mx-auto">
            <h2 class="text-6xl font-extrabold mb-10 text-[#ff6b6b]">What’s This All About?</h2>
            <p class="text-2xl mb-4 text-gray-700">
                Hey, have you ever stopped to think about what work feels like these days, now that we’re in April 2025, so far from those chaotic pandemic years? I mean, really think about it—not just the tasks or the paycheck, but how it sits in your life, how it shapes your mornings, your evenings, your quiet moments? I’ve been wondering lately if work could be more than something we do to get by—what if it could be something that lights us up, something that weaves joy into the fabric of our days? Since 2020 turned everything upside down, the way we work has been remade in ways I never imagined, and I’m still trying to wrap my head around it all. Remote work became our lifeline back then, didn’t it? And now, hybrid setups are popping up everywhere, while this idea of a four-day workweek keeps floating around, stirring up both excitement and a little bit of worry. I keep asking myself: Is work really tied to our happiness? Could the way we’re living now—these new rhythms, these new choices—be leading us to something better, something fuller?
            </p>
            <p class="text-2xl mb-8 text-gray-700">
                Let’s sit with this for a while, you and me, and wander through what’s happening. I want to share some stories I’ve come across, some trends I’ve noticed swirling around on X and in conversations, and even imagine what the future might look like—maybe a decade from now, when our days could feel so different. We’ll think about how remote work has changed the way we experience our jobs, whether a shorter week could make us healthier and more productive, if remote work even fits everyone, what today’s technology might mean for tomorrow, and how blending remote work with a four-day week could completely reimagine what work means. Ready to explore this together?
            </p>
            <h3 class="text-4xl font-extrabold mb-6 text-[#ff6b6b]">After the Chaos: How Remote and Hybrid Work Took Over</h3>
            <p class="text-2xl mb-4 text-gray-700">
                Do you remember those early pandemic days, back in 2020, when everything felt like it was unraveling? I think about Priya, this math teacher in Chicago I heard about, who was suddenly teaching fractions over Zoom from her dining table, her kids running circles around her, the whole house a whirlwind of noise and newness. That was remote work for so many of us back then—a necessity, a scramble, a lifeline. But have you noticed how much has changed since? Here we are in 2025, and remote work isn’t just a stopgap anymore—it’s part of the fabric of how we live. I’ve been seeing on X that hybrid models are the big trend now, with companies like Salesforce and Deloitte mixing office days with working from home, something like a 40% jump in hybrid setups since 2022. It’s like we’re all trying to find a balance, isn’t it?
            </p>
            <p class="text-2xl mb-8 text-gray-700">
                I met Raj the other day—well, not met exactly, but I heard his story through a friend. He’s a software engineer in Austin, and he was telling me how much he loves not having to commute anymore. He wakes up, makes breakfast with his partner, maybe some scrambled eggs with a little too much pepper, and he feels this lightness in his day that he never had before. But then there’s Aisha, a nurse in Atlanta, who can’t work remotely—her job is all hands-on care, and she’s still stuck with a two-hour commute each way, feeling this ache for the flexibility her sister gets as a remote marketing consultant. And Maya, a project manager in Dallas, she’s been telling me how she misses the office sometimes—the little moments, like grabbing lunch with her team, laughing over a shared sandwich. She works in-person most days, and while she loves the structure, there’s this loneliness that creeps in when she compares herself to friends who work from home.
            </p>
 
            <h3 class="text-4xl font-extrabold mb-6 text-[#ff6b6b]">Relevant Sources to Explore !</h3>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-10 mt-12">
                <a href="https://cutshort.io/blog/job-search-insights/remote-work-statistics" target="_blank" class="card" draggable="true">
                    <h3 class="text-3xl font-bold text-[#4ecdc4] mb-3">Remote Work Statistics</h3>
                    <p class="text-gray-600">Explore key insights and trends on the rise of remote work. Click to dive in!</p>
                </a>
                <a href="https://www.visualcapitalist.com/how-people-and-companies-feel-about-working-remotely/" target="_blank" class="card" draggable="true">
                    <h3 class="text-3xl font-bold text-[#4ecdc4] mb-3">Feelings on Remote Work</h3>
                    <p class="text-gray-600">Discover how people and companies perceive remote work. Click to learn more!</p>
                </a>
                <a href="https://ourworldindata.org/happiness-and-life-satisfaction" target="_blank" class="card" draggable="true">
                    <h3 class="text-3xl font-bold text-[#4ecdc4] mb-3">Happiness & Life Satisfaction</h3>
                    <p class="text-gray-600">Uncover data on what drives happiness in life. Click to explore!</p>
                </a>
            </div>
        </div>
    </section>

    <!-- Visualization 1: Packed Bubble View of Remote Work -->
    <section class="section bg-gradient-to-br from-[#f9e9d8] to-[#ffe1cc] relative" id="viz1">
        <div class="animated-bg"></div>
        <div class="parallax-layer" style="background: url('https://via.placeholder.com/2000x2000?text=Pattern3') center/cover;"></div>
        <svg class="hand-drawn-svg" viewBox="0 0 100 100">
            <path d="M20,20 Q50,80 80,20" stroke="#ff6b6b" stroke-width="4" fill="none" />
        </svg>
        <div class="max-w-6xl mx-auto">
            <h2 class="text-6xl font-extrabold mb-10 text-[#ff6b6b]">Remote Work Trends</h2>
            <p class="text-2xl mb-8 text-gray-700">
                I’ve been looking at how this shift has played out across different kinds of jobs, and it’s fascinating to see who’s embracing remote work and who can’t. Tech is leading the charge—Software and IT jobs hit 30% remote by 2021, and I’ve seen estimates that it’s closer to 35% now in 2025, especially with AI tools making virtual collaboration so seamless. Even wellness folks, like yoga instructors, have jumped in—back in 2021, they went from 3.8% to 21.2% remote, mostly women, offering virtual classes that let people stretch in their living rooms. Education’s been slower, hovering around 10% now, but Priya’s story shows how it’s working—she blends in-person teaching with recorded lessons, giving her students flexibility and herself a little breathing room. Healthcare’s growing too, up to 14.4% with things like telemedicine, but for someone like Aisha, it’s just not an option. I keep wondering: Is remote work just this big, broad idea we throw around, or does it really fit every kind of work? Maybe we need to think smaller, more tailored—could that be the way forward?
            </p>
            <div class="visualization-container" data-zoom="1">
                <iframe src="new_eee_remote_worl.html" width="100%" height="700" frameborder="0" loading="lazy"></iframe>
                <div class="control-buttons">
                    <div class="control-btn zoom-in" onclick="zoomIframe('viz1', 0.1)" aria-label="Zoom In">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/>
                        </svg>
                    </div>
                    <div class="control-btn zoom-out" onclick="zoomIframe('viz1', -0.1)" aria-label="Zoom Out">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 11h14v2H5z"/>
                        </svg>
                    </div>
                    <div class="control-btn enlarge-btn" onclick="toggleFullScreen('viz1')" aria-label="Enlarge Visualization">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
        <div class="fullscreen-viz" id="fullscreen-viz1" data-zoom="1">
            <iframe src="new_eee_remote_worl.html"></iframe>
            <div class="fullscreen-controls">
                <div class="control-btn zoom-in" onclick="zoomIframe('viz1', 0.1, true)" aria-label="Zoom In">
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/>
                    </svg>
                </div>
                <div class="control-btn zoom-out" onclick="zoomIframe('viz1', -0.1, true)" aria-label="Zoom Out">
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 11h14v2H5z"/>
                    </svg>
                </div>
            </div>
            <div class="close-btn" onclick="toggleFullScreen('viz1')" aria-label="Close Fullscreen">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M6 6L18 18M6 18L18 6"></path>
                </svg>
            </div>
        </div>
    </section>

    <!-- Visualization 2: Impact of 4-Day Workweek -->
    <section class="section bg-gradient-to-br from-[#d8f9e9] to-[#ccffe1] relative" id="viz2">
        <div class="animated-bg"></div>
        <div class="parallax-layer" style="background: url('https://via.placeholder.com/2000x2000?text=Pattern4') center/cover;"></div>
        <svg class="hand-drawn-svg" style="top: 20%; right: 15%;" viewBox="0 0 100 100">
            <rect x="20" y="20" width="60" height="60" stroke="#45b7d1" stroke-width="4" fill="none" />
        </svg>
        <div class="max-w-6xl mx-auto">
            <h2 class="text-6xl font-extrabold mb-10 text-[#ff6b6b]">A Shorter Week: Dreaming Big</h2>
            <p class="text-2xl mb-8 text-gray-700">
                Have you ever imagined what it would feel like to have an extra day off every week—not just a holiday, but every single week? I’ve been hearing so much about the four-day workweek lately, especially in 2025, with companies like Panasonic testing it out globally, and trials in places like the UK and Japan making waves. I saw on X that corporate interest in this idea has jumped 15% since 2023, and it’s easy to see why—people are craving more space in their lives. I was talking to Clara, this HR manager in London, and she told me how her Fridays off have changed everything. She spends the day gardening, her hands in the soil, or playing board games with her kids, and she comes back to work feeling like she’s hit a reset button. “I used to dread Mondays,” she said, her voice lighter than I expected. “Now I feel like I can breathe.” Even her friends are noticing—she doesn’t have that Sunday evening anxiety anymore, that sinking feeling of the week ahead.
            </p>
            <p class="text-2xl mb-8 text-gray-700">
                But I wonder, does everyone feel this way? I heard from Liam, a retail manager in Manchester, and he’s not so sure. His company tried a four-day week, but he’s worried—clients expect quick responses, and his team feels rushed, cramming everything into fewer days. “I can’t leave shelves empty,” he told me, his brow furrowed. “It’s stressful in a different way.” I get where he’s coming from—some jobs just don’t bend that way, do they? Employers are feeling the push and pull too. On one hand, they’re seeing productivity hold steady, sometimes even rise—I saw a post on X mentioning a 5% bump in output in some trials. On the other hand, they’re nervous about falling behind, especially in fast-moving industries where every day counts.
            </p>
            <p class="text-2xl mb-8 text-gray-700">
                When you look at what’s happening, though, the numbers tell a story that’s hard to ignore. People in these trials are feeling 78% better about their work-life balance—imagine that, feeling like you’ve got room for your life again. Stress is dropping by 33%, those heavy, negative feelings are down 54%, and sick days have fallen by 62%, which averages out to a 56.8% boost in how good people feel overall. Clara’s garden, her laughter with her kids, it all fits—she’s living it. But Liam’s rush, his worry about empty shelves, that’s real too. I keep thinking: Could this shorter week be the answer for some of us, but not all? Maybe creative jobs like Clara’s can soak it in, while retail or healthcare might need a different kind of change. What do you think—could an extra day off change the way your weeks feel, maybe make your Sundays a little softer?
            </p>
            <div class="visualization-container" data-zoom="0.8">
                <iframe src="sankey_work_final_with_json.html" width="100%" height="700" frameborder="0" loading="lazy"></iframe>
                <div class="control-buttons">
                    <div class="control-btn zoom-in" onclick="zoomIframe('viz2', 0.1)" aria-label="Zoom In">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/>
                        </svg>
                    </div>
                    <div class="control-btn zoom-out" onclick="zoomIframe('viz2', -0.1)" aria-label="Zoom Out">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 11h14v2H5z"/>
                        </svg>
                    </div>
                    <div class="control-btn enlarge-btn" onclick="toggleFullScreen('viz2')" aria-label="Enlarge Visualization">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
        <div class="fullscreen-viz" id="fullscreen-viz2" data-zoom="0.8">
            <iframe src="sankey_work_final_with_json.html"></iframe>
            <div class="fullscreen-controls">
                <div class="control-btn zoom-in" onclick="zoomIframe('viz2', 0.1, true)" aria-label="Zoom In">
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/>
                    </svg>
                </div>
                <div class="control-btn zoom-out" onclick="zoomIframe('viz2', -0.1, true)" aria-label="Zoom Out">
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 11h14v2H5z"/>
                    </svg>
                </div>
            </div>
            <div class="close-btn" onclick="toggleFullScreen('viz2')" aria-label="Close Fullscreen">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M6 6L18 18M6 18L18 6"></path>
                </svg>
            </div>
        </div>
    </section>

    <!-- Visualization 3: Gravity of Joy -->
    <section class="section bg-gradient-to-br from-[#e9d8f9] to-[#f1ccff] relative" id="viz3">
        <div class="animated-bg"></div>
        <div class="parallax-layer" style="background: url('https://via.placeholder.com/2000x2000?text=Pattern5') center/cover;"></div>
        <svg class="hand-drawn-svg" viewBox="0 0 100 100">
            <path d="M30,30 L70,70 M30,70 L70,30" stroke="#ff8e53" stroke-width="4" fill="none" />
        </svg>
        <div class="max-w-6xl mx-auto">
            <h2 class="text-6xl font-extrabold mb-10 text-[#ff6b6b]">What Makes Us Happy?</h2>
            <p class="text-2xl mb-4 text-gray-700">
                Let’s pause for a moment and ask something simple, something we don’t always give ourselves space to think about: What makes you happy? I mean the kind of happy that fills you up, the kind that lingers in your chest. I’ve been hearing people talk about this more in 2025, maybe because work is changing so much, and it’s making us look at our lives in a new way. I met Sarah, a graphic designer in Seattle, at a virtual coffee chat the other day, and she told me about her Saturday mornings—making pancakes with her daughter, the kitchen a mess of flour and giggles, the kind of moment that feels like it could last forever. Then there’s Javier, a teacher in Miami, who unwinds every evening with his guitar, playing old songs that take him back to his childhood in Havana, each note a little piece of peace.
            </p>
            <p class="text-2xl mb-4 text-gray-700">
                But not everyone’s feeling that lightness. Maya, that project manager in Dallas, keeps telling me how lonely she feels sometimes, working in the office while her friends are at home, their days more flexible. She misses the little things—like the way her cat used to curl up on her lap during a work call. I wonder: Does the way we work, the way we live, really shape how happy we feel? Could the difference between a remote life and an in-person one, a long week or a short one, be part of what makes joy bloom—or wilt?
            </p>
            <p class="text-2xl mb-8 text-gray-700">
                I’ve been looking at what people are saying about happiness lately, and it’s like a mosaic—everyone’s got their own piece that fits just right. In 2025 surveys, friends and learning are big, each pulling in 19% of people’s joy, family and self-love are close at 18%, cooking and music at 15%, physical health at 15% too, and then smaller things like mindfulness at 9% and play at 5%. Sarah’s pancakes, Javier’s guitar—they fit right in, don’t they? But then I saw on X that remote workers like Raj are reporting 20% more time with family, and that seems to make their happiness glow a little brighter. Aisha, though, stuck in her commute, feels like she’s missing out on those moments, and Maya’s longing for connection tells me the office isn’t always the answer either. Could it be that our lifestyles—whether we’re working from home or heading to the office, whether we’ve got five days or four—are shaping our happiness in ways we’re only just starting to understand?
            </p>
            <div class="visualization-container" data-zoom="1">
                <iframe src="happiness_dust_and_magnet_final.html" width="100%" height="700" frameborder="0" loading="lazy"></iframe>
                <div class="control-buttons">
                    <div class="control-btn zoom-in" onclick="zoomIframe('viz3', 0.1)" aria-label="Zoom In">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/>
                        </svg>
                    </div>
                    <div class="control-btn zoom-out" onclick="zoomIframe('viz3', -0.1)" aria-label="Zoom Out">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 11h14v2H5z"/>
                        </svg>
                    </div>
                    <div class="control-btn enlarge-btn" onclick="toggleFullScreen('viz3')" aria-label="Enlarge Visualization">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
        <div class="fullscreen-viz" id="fullscreen-viz3" data-zoom="1">
            <iframe src="happiness_dust_and_magnet_final.html"></iframe>
            <div class="fullscreen-controls">
                <div class="control-btn zoom-in" onclick="zoomIframe('viz3', 0.1, true)" aria-label="Zoom In">
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/>
                    </svg>
                </div>
                <div class="control-btn zoom-out" onclick="zoomIframe('viz3', -0.1, true)" aria-label="Zoom Out">
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 11h14v2H5z"/>
                    </svg>
                </div>
            </div>
            <div class="close-btn" onclick="toggleFullScreen('viz3')" aria-label="Close Fullscreen">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M6 6L18 18M6 18L18 6"></path>
                </svg>
            </div>
        </div>
    </section>

    <!-- Visualization 4: Work Preferences -->
    <section class="section bg-gradient-to-br from-[#f9d8e9] to-[#ffccf1] relative" id="viz4">
        <div class="animated-bg"></div>
        <div class="parallax-layer" style="background: url('https://via.placeholder.com/2000x2000?text=Pattern6') center/cover;"></div>
        <svg class="hand-drawn-svg" style="top: 25%; right: 20%;" viewBox="0 0 100 100">
            <path d="M20,50 H80" stroke="#4ecdc4" stroke-width="4" fill="none" />
        </svg>
        <div class="max-w-6xl mx-auto">
            <h2 class="text-6xl font-extrabold mb-10 text-[#ff6b6b]">Imagining Tomorrow</h2>
            <p class="text-2xl mb-4 text-gray-700">
                Have you ever let yourself dream about what work might look like in the future—say, in 2030 or beyond? I’ve been thinking about it a lot lately, especially with all the technology we’ve got in 2025, things like AI and virtual reality that are already changing the game. Picture Zoe, a graphic designer in 2030, working remotely most of the week, popping on a VR headset to brainstorm with a team in Tokyo, their ideas floating around her like a shared sketchbook. She’s on a four-day schedule, so her weekends start early—she spends Fridays hiking local trails, the air crisp, her mind clear, coming back to work with a creativity that feels alive. Or imagine Ethan, a surgeon in 2030, who still needs to be in-person for surgeries, but now he’s got a hybrid assistant handling virtual consults, so his days aren’t as long, and he can slip away to watch his son’s soccer game, cheering from the sidelines with a smile that wasn’t there before.
            </p>
            <p class="text-2xl mb-4 text-gray-700">
                What would that feel like, day to day? Zoe might start her morning with a slow cup of coffee, sketching ideas on her tablet while the sun rises, her cat purring nearby. Ethan might finish a surgery, then take a virtual call from home, his kitchen table doubling as a desk, the smell of dinner simmering in the background. Even someone like Aisha, the nurse, might find a new rhythm—maybe adaptive tech lets her do some admin work from home, or a shorter shift gives her an extra day to rest, so she’s not so drained when she tucks her kids in at night.
            </p>
            <p class="text-2xl mb-8 text-gray-700">
                I’ve been seeing signs of this future already—on X, people are talking about how 70% of tech jobs might be remote or hybrid by 2027, and healthcare could hit 20% with more telehealth. Right now, in 2025, a survey of 200 people shows tech folks leaning toward remote because the tools are so good—think Zoom, Slack, all that stuff. Finance people prefer hybrid, wanting those in-person brainstorming sessions, while healthcare workers like Aisha are mostly in-person because, well, you can’t operate through a screen. But what if we blend remote work with a four-day week? Zoe’s hiking, Ethan’s soccer games—they show us a glimpse of a life where work fits around us, not the other way around. The challenge is making sure it’s fair—how do we bring Aisha into this future, so she’s not left behind? I wonder: Could the pilot programs we’re seeing now, the buzz on X about work-life balance, be the first steps toward a world where our days feel lighter, more ours?
            </p>
            <div class="visualization-container" data-zoom="1">
                <iframe src="routine_map_by_industry_and_gender.html" width="100%" height="700" frameborder="0" loading="lazy"></iframe>
                <div class="control-buttons">
                    <div class="control-btn zoom-in" onclick="zoomIframe('viz4', 0.1)" aria-label="Zoom In">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M11 11V5h2 Ascertaintypesetters2px;">M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>
                        </svg>
                    </div>
                    <div class="control-btn zoom-out" onclick="zoomIframe('viz4', -0.1)" aria-label="Zoom Out">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 11h14v2H5z"/>
                        </svg>
                    </div>
                    <div class="control-btn enlarge-btn" onclick="toggleFullScreen('viz4')" aria-label="Enlarge Visualization">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
        <div class="fullscreen-viz" id="fullscreen-viz4" data-zoom="1">
            <iframe src="routine_map_by_industry_and_gender.html"></iframe>
            <div class="fullscreen-controls">
                <div class="control-btn zoom-in" onclick="zoomIframe('viz4', 0.1, true)" aria-label="Zoom In">
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/>
                    </svg>
                </div>
                <div class="control-btn zoom-out" onclick="zoomIframe('viz4', -0.1, true)" aria-label="Zoom Out">
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 11h14v2H5z"/>
                    </svg>
                </div>
            </div>
            <div class="close-btn" onclick="toggleFullScreen('viz4')" aria-label="Close Fullscreen">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M6 6L18 18M6 18L18 6"></path>
                </svg>
            </div>
        </div>
    </section>

    <!-- Visualization 5: Persona-Based Mood Cards -->
    <section class="section bg-gradient-to-br from-[#d8e9f9] to-[#cce1ff] relative" id="viz5">
        <div class="animated-bg"></div>
        <div class="parallax-layer" style="background: url('https://via.placeholder.com/2000x2000?text=Pattern7') center/cover;"></div>
        <svg class="hand-drawn-svg" viewBox="0 0 100 100">
            <path d="M20,80 Q50,20 80,80" stroke="#ff6b6b" stroke-width="4" fill="none" />
        </svg>
        <div class="max-w-6xl mx-auto">
            <h2 class="text-6xl font-extrabold mb-10 text-[#ff6b6b]">A Work Life That Feels Like Living</h2>
            <p class="text-2xl mb-8 text-gray-700">
                So, where does this all leave us, as we sit here in 2025, looking back and dreaming forward? I keep coming back to this idea: Work and happiness, they’re tangled up together, aren’t they? Remote work has changed so much for people like Raj, giving him those slow mornings with his partner, but it’s left Maya longing for connection, showing us it’s not a one-size-fits-all answer. A four-day week has Clara tending her garden, feeling lighter, but Liam’s rushing to keep up, reminding us some jobs need a different approach. Happiness looks different for everyone—Sarah’s pancake mornings, Javier’s guitar, Aisha’s hope for more time with her kids—and the way we work seems to shape how much room we have for those moments. With technology pushing us forward, I can almost see Zoe’s 2030, her hikes and her VR meetings, or Ethan’s balanced days, cheering at soccer games.
            </p>
            <p class="text-2xl mb-8 text-gray-700">
                Every day, these changes are showing up in little ways—Raj’s breakfasts, Clara’s Fridays, even the way Aisha imagines a better rhythm. Could it be that we’re on the edge of something big, something where work doesn’t just take from us, but gives us space to live, to feel joy in the smallest things? I think we might be, and I’m curious to see where this experiment takes us next—what do you think?
            </p>
            <div class="visualization-container" data-zoom="1">
                <iframe src="viz_1_1 (2).html" width="100%" height="700" frameborder="0" loading="lazy"></iframe>
                <div class="control-buttons">
                    <div class="control-btn zoom-in" onclick="zoomIframe('viz5', 0.1)" aria-label="Zoom In">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/>
                        </svg>
                    </div>
                    <div class="control-btn zoom-out" onclick="zoomIframe('viz5', -0.1)" aria-label="Zoom Out">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 11h14v2H5z"/>
                        </svg>
                    </div>
                    <div class="control-btn enlarge-btn" onclick="toggleFullScreen('viz5')" aria-label="Enlarge Visualization">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
        <div class="fullscreen-viz" id="fullscreen-viz5" data-zoom="1">
            <iframe src="viz_1_1 (2).html"></iframe>
            <div class="fullscreen-controls">
                <div class="control-btn zoom-in" onclick="zoomIframe('viz5', 0.1, true)" aria-label="Zoom In">
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/>
                    </svg>
                </div>
                <div class="control-btn zoom-out" onclick="zoomIframe('viz5', -0.1, true)" aria-label="Zoom Out">
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 11h14v2H5z"/>
                    </svg>
                </div>
            </div>
            <div class="close-btn" onclick="toggleFullScreen('viz5')" aria-label="Close Fullscreen">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M6 6L18 18M6 18L18 6"></path>
                </svg>
            </div>
        </div>
    </section>

    <!-- References/Conclusion Section -->
    <section class="section bg-white relative" id="references">
        <div class="animated-bg"></div>
        <div class="parallax-layer" style="background: url('https://via.placeholder.com/2000x2000?text=Pattern8') center/cover;"></div>
        <svg class="hand-drawn-svg" style="top: 30%; right: 25%;" viewBox="0 0 100 100">
            <circle cx="50" cy="50" r="40" stroke="#45b7d1" stroke-width="4" fill="none" />
        </svg>
        <div class="max-w-6xl mx-auto">
            <h2 class="text-6xl font-extrabold mb-10 text-[#ff6b6b]">Dive Deeper</h2>
            <p class="text-2xl mb-8 text-gray-700">
                Explore the research and stories that inspired this journey into work and happiness.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10">
                <div class="card" draggable="true">
                    <h3 class="text-3xl font-bold text-[#4ecdc4] mb-3">Oxford Productivity Study</h3>
                    <p class="text-gray-600">Happiness fuels a 13% productivity boost. <a href="#" class="text-[#ff6b6b] underline hover:text-[#ff8e53]">Read More</a></p>
                </div>
                <div class="card" draggable="true">
                    <h3 class="text-3xl font-bold text-[#4ecdc4] mb-3">Splashtop Remote Work Trends</h3>
                    <p class="text-gray-600">Global remote work stats from 2020 to 2023. <a href="#" class="text-[#ff6b6b] underline hover:text-[#ff8e53]">Read More</a></p>
                </div>
                <div class="card" draggable="true">
                    <h3 class="text-3xl font-bold text-[#4ecdc4] mb-3">4-Day Week Trials</h3>
                    <p class="text-gray-600">How companies are testing shorter weeks. <a href="#" class="text-[#ff6b6b] underline hover:text-[#ff8e53]">Read More</a></p>
                </div>
                <div class="card" draggable="true">
                    <h3 class="text-3xl font-bold text-[#4ecdc4] mb-3">Worker Well-Being</h3>
                    <p class="text-gray-600">Insights on stress and joy in modern work. <a href="#" class="text-[#ff6b6b] underline hover:text-[#ff8e53]">Read More</a></p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gradient-to-r from-[#333] via-[#444] to-[#555] text-white py-12">
        <div class="max-w-6xl mx-auto text-center">
            <p class="text-2xl">Created<span class="text-[#ff6b6b]"></span> by Nivedhitha</p>
            <p class="mt-4 text-lg">SI 649 - Information Visualization Final Project</p>
        </div>
    </footer>

    <!-- Navigation Buttons -->
    <div class="nav-button bottom-8 right-8" id="nextBtn" aria-label="Next Section">Next</div>
    <div class="nav-button bottom-8 left-8 hidden" id="prevBtn" aria-label="Previous Section">Prev</div>

    <script>
        // Sections for navigation
        const sections = ['title', 'intro', 'viz1', 'viz2', 'viz3', 'viz4', 'viz5', 'references'];
        let currentSection = 0;

        // Navigation buttons
        const nextBtn = document.getElementById('nextBtn');
        const prevBtn = document.getElementById('prevBtn');
        const navDots = document.querySelectorAll('.nav-dot');
        const milestones = document.querySelectorAll('.progress-milestone');

        // Scroll to section
        function scrollToSection(index) {
            const section = document.getElementById(sections[index]);
            section.scrollIntoView({ behavior: 'smooth' });
            currentSection = index;

            // Update button visibility
            prevBtn.classList.toggle('hidden', currentSection === 0);
            nextBtn.classList.toggle('hidden', currentSection === sections.length - 1);

            // Update active nav dot
            navDots.forEach(dot => dot.classList.remove('active'));
            navDots[index].classList.add('active');
        }

        // Navigation button event listeners
        nextBtn.addEventListener('click', () => {
            if (currentSection < sections.length - 1) {
                scrollToSection(currentSection + 1);
            }
        });

        prevBtn.addEventListener('click', () => {
            if (currentSection > 0) {
                scrollToSection(currentSection - 1);
            }
        });

        // Nav dots event listeners
        navDots.forEach((dot, index) => {
            dot.addEventListener('click', () => scrollToSection(index));
        });

        // Milestone event listeners
        milestones.forEach((milestone, index) => {
            milestone.addEventListener('click', () => scrollToSection(index));
        });

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowDown' && currentSection < sections.length - 1) {
                scrollToSection(currentSection + 1);
            } else if (e.key === 'ArrowUp' && currentSection > 0) {
                scrollToSection(currentSection - 1);
            } else if (e.key === '+' || e.key === '=') {
                const activeViz = sections[currentSection].match(/viz\d/);
                if (activeViz) {
                    zoomIframe(activeViz[0], 0.1, document.querySelector(`#fullscreen-${activeViz[0]}`).style.display === 'block');
                }
            } else if (e.key === '-') {
                const activeViz = sections[currentSection].match(/viz\d/);
                if (activeViz) {
                    zoomIframe(activeViz[0], -0.1, document.querySelector(`#fullscreen-${activeViz[0]}`).style.display === 'block');
                }
            }
        });

        // Zoom iframe content
        function zoomIframe(vizId, delta, isFullscreen = false) {
            const container = isFullscreen ? 
                document.querySelector(`#fullscreen-${vizId}`) : 
                document.querySelector(`#${vizId} .visualization-container`);
            let currentZoom = parseFloat(container.getAttribute('data-zoom')) || 1;
            currentZoom = Math.max(0.5, Math.min(2, currentZoom + delta)); // Limit zoom between 50% and 200%
            container.setAttribute('data-zoom', currentZoom);

            const iframe = container.querySelector('iframe');
            const inverseScale = 1 / currentZoom;
            gsap.to(iframe, {
                scale: currentZoom,
                width: `${100 * inverseScale}%`,
                height: `${700 * inverseScale}px`,
                duration: 0.3,
                ease: 'power2.out'
            });

            // Sync zoom between normal and fullscreen modes
            const otherContainer = isFullscreen ? 
                document.querySelector(`#${vizId} .visualization-container`) : 
                document.querySelector(`#fullscreen-${vizId}`);
            otherContainer.setAttribute('data-zoom', currentZoom);
            const otherIframe = otherContainer.querySelector('iframe');
            otherIframe.style.transform = `scale(${currentZoom})`;
            otherIframe.style.width = `${100 * inverseScale}%`;
            otherIframe.style.height = `${700 * inverseScale}px`;
        }

        // Full-screen toggle for visualizations
        function toggleFullScreen(vizId) {
            const fullscreenViz = document.getElementById(`fullscreen-${vizId}`);
            const isVisible = fullscreenViz.style.display === 'block';
            const currentZoom = parseFloat(fullscreenViz.getAttribute('data-zoom')) || 1;
            const inverseScale = 1 / currentZoom;

            gsap.to(fullscreenViz, {
                duration: 0.6,
                scale: isVisible ? 0.8 : 1,
                opacity: isVisible ? 0 : 1,
                ease: 'power2.inOut',
                onStart: () => {
                    fullscreenViz.style.display = isVisible ? 'none' : 'block';
                    if (!isVisible) {
                        const iframe = fullscreenViz.querySelector('iframe');
                        iframe.style.transform = `scale(${currentZoom})`;
                        iframe.style.width = `${100 * inverseScale}%`;
                        iframe.style.height = `${100 * inverseScale}%`;
                    }
                },
                onComplete: () => {
                    if (isVisible) {
                        fullscreenViz.style.display = 'none';
                    }
                }
            });
        }

        // Progress bar animation
        gsap.registerPlugin(ScrollTrigger);
        gsap.to('#progressBar', {
            scaleX: 1,
            ease: 'none',
            scrollTrigger: {
                trigger: document.body,
                start: 'top top',
                end: 'bottom bottom',
                scrub: true
            }
        });

        // Section animations
        document.querySelectorAll('.section').forEach(section => {
            gsap.from(section.querySelectorAll('h2, p, .card, .visualization-container, .hand-drawn-svg'), {
                opacity: 0,
                y: 100,
                duration: 1.2,
                stagger: 0.3,
                scrollTrigger: {
                    trigger: section,
                    start: 'top 80%',
                    toggleActions: 'play none none reset'
                }
            });
        });

        // Card drag functionality
        document.querySelectorAll('.card').forEach(card => {
            let isDragging = false;
            let startX, startY, initialX, initialY;

            card.addEventListener('mousedown', (e) => {
                isDragging = true;
                startX = e.clientX;
                startY = e.clientY;
                initialX = card.offsetLeft;
                initialY = card.offsetTop;
                card.style.zIndex = 100;
            });

            document.addEventListener('mousemove', (e) => {
                if (isDragging) {
                    const dx = e.clientX - startX;
                    const dy = e.clientY - startY;
                    card.style.left = `${initialX + dx}px`;
                    card.style.top = `${initialY + dy}px`;
                    card.style.position = 'absolute';
                }
            });

            document.addEventListener('mouseup', () => {
                if (isDragging) {
                    isDragging = false;
                    gsap.to(card, {
                        left: 0,
                        top: 0,
                        duration: 0.5,
                        ease: 'power2.out',
                        onComplete: () => {
                            card.style.position = 'relative';
                            card.style.zIndex = 'auto';
                        }
                    });
                }
            });
        });

        // Particle background
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('particleCanvas'), alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);

        const particles = new THREE.BufferGeometry();
        const particleCount = 500;
        const posArray = new Float32Array(particleCount * 3);
        for (let i = 0; i < particleCount * 3; i++) {
            posArray[i] = (Math.random() - 0.5) * 2000;
        }
        particles.setAttribute('position', new THREE.BufferAttribute(posArray, 3));

        const material = new THREE.PointsMaterial({
            size: 5,
            color: 0xff6b6b,
            transparent: true,
            opacity: 0.5
        });

        const particleSystem = new THREE.Points(particles, material);
        scene.add(particleSystem);
        camera.position.z = 1000;

        function animateParticles() {
            requestAnimationFrame(animateParticles);
            particleSystem.rotation.y += 0.001;
            renderer.render(scene, camera);
        }
        animateParticles();

        // Resize handler
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // Parallax effect
        document.querySelectorAll('.parallax-layer').forEach(layer => {
            gsap.to(layer, {
                y: 200,
                ease: 'none',
                scrollTrigger: {
                    trigger: layer.parentElement,
                    start: 'top bottom',
                    end: 'bottom top',
                    scrub: true
                }
            });
        });
    </script>
</body>
</html>